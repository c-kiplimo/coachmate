
<div class="row mb-3" >
  <div class="col-3"></div>
  <div class="col-6">
    <div class="card details-card">
      <div class="d-flex justify-content-center flex-wrap">
      <div class="card-header">
        <h3>{{ contract.coachingTopic }} Coaching Contract</h3>
      </div>
          <div class="col-md-8">
            <div [@fadeIn] >
              <div class="d-flex justify-content-between onedetail">
                <span class="title">Contract Id:</span>
                <span class="value">{{ contract.id }}</span>
              </div>
              <div class="d-flex justify-content-between one-detail">
                <span class="title">Coaching Topic:</span>
                <span class="value">{{ contract.coachingTopic }}</span>
              </div>
              <div class="d-flex justify-content-between onedetail">
                <span class="title">Contract Type:</span>
                <span class="value">{{ contract.coachingCategory }}</span>
              </div>
              <div class="d-flex justify-content-between onedetail ">
                <span class="title">Client Name:</span>
                <span class="value">{{ contract.client.fullName }}</span>
              </div>
              <div class="d-flex justify-content-between onedetail">
                <span class="title">Contract Status:</span>
                <span class="value">{{ contract.contractStatus }}</span>
              </div>
              <div class="d-flex justify-content-between onedetail">
                <span class="title">Start Date:</span>
                <span class="value">{{ contract.startDate }}</span>
              </div>
              <div class="d-flex justify-content-between onedetail">
                <span class="title">End Date:</span>
                <span class="value">{{ contract.endDate }}</span>
              </div>
              <div class="d-flex justify-content-between onedetail">
                <span class="title">Number of Sessions:</span>
                <span class="value">{{ contract.noOfSessions }}</span>
              </div>
              <div *ngIf="contract.coachingCategory === 'INDIVIDUAL'" class="d-flex justify-content-between onedetail">
                <span class="title">Fees per Session :</span>
                <span class="value">{{ contract.individualFeesPerSession }}</span>
              </div>
              <div  *ngIf="contract.coachingCategory === 'GROUP'" class="d-flex justify-content-between onedetail">
                <span class="title">Fees per Session:</span>
                <span class="value">{{ contract.groupFeesPerSession }}</span>
              </div> 
              <div class="d-flex justify-content-between onedetail">
                <span class="title">Total Fees:</span>
                <span *ngIf="(contract.coachingCategory === 'INDIVIDUAL')"class="value"> 
                  {{contract.individualFeesPerSession * contract.noOfSessions}}
                </span>
                <span *ngIf="(contract.coachingCategory === 'GROUP')"class="value"> 
                  {{contract.groupFeesPerSession * contract.noOfSessions}}
                </span>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
      <div class="card details-card">
            <div class="row">
              <div class="col-md-2">
                <h4 class="text-center">Contract Sessions</h4>
              </div>
              <div class="col-md-6"></div>
              <div class="col-md-2"></div>
              <div *ngIf="sessions.length < contract.noOfSessions" class="col-md-2">
              <button type="button"  data-bs-toggle="modal" data-bs-target="#sessionModal" class="btn btn-success">
               Add Session
              </button>
              </div>
            </div>
  
            <div class="row list-container container mt-2">
              <table class="table table-striped"  >
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">session Name</th>
                    <th scope="col">Session Venue</th>
                    <th scope="col">Session Type</th>
                    <th scope="col">session Date</th>
                    <th scope="col">Starts at</th>
                    <th scope="col">Ends at</th>
                    <th scope="col">Actions</th>
                  </tr>
                </thead>
            
                <tbody>
                  <tr *ngFor="let session of sessions">
                    <th scope="row">{{ session.id }}</th>
                    <td>{{ session.name }}</td>
                    <td>{{ session.sessionVenue }}</td>
                    <td>{{ session.sessionType }}</td>
                    <td>{{ session.sessionDate }}</td>
                    <td>{{ session.sessionStartTime }}</td>
                    <td>{{ session.sessionEndTime }}</td>
                    <td class="actions">
                      <i
                      (click)="navigateToSessionView(session.id)"
                      class="fa-solid fa-arrow-up-right-from-square"
                    ></i>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="donut-wrapper" *ngIf="loading" [@fadeIn]>
                <div class="donut multi"></div>
              </div>
              <p class="text-muted mt-5" *ngIf="!loading && !sessions.length">
                No sessions Found.
              </p>
            </div>
    </div>

  
  <!-- Modal for additing a session -->
  <div class="modal" id="sessionModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">{{ modalTitle }}</h5>
          <button type="button" class="close"class="btn-close btn-close-white"
          data-bs-dismiss="modal"
          aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form>
            <div class="row p-2">
              <div class=" mb-3 col-md-6 ">
                <label for="sessionname">Session Name</label>
                <input 
                [(ngModel)]="addSessionForm.name" 
                
                type="text" 
                class="form-control" 
                id="name"
                placeholder="Enter Session Name" 
                name="name" 
               >
             
              </div>
              <div class="mb-3 col-md-6" >
                <div class="form-group-prepend">
                  <label class="form-group-text" for="clientType">Session Type</label>
                </div>
                <select 
                  class="form-select" 
                  id="inputGroupSelect01" 
                  name="sessionType" 
                  [(ngModel)]="addSessionForm.sessionType"> 
                  <option value="INDIVIDUAL">INDIVIDUAL</option>
                  <option value="GROUP">GROUP</option>
                  <option value="OTHER">OTHER</option>
                </select>
              </div>
            <div class="row p-2">
              <div class=" mb-3 col-md-6 ">
                <label for="inputlastname">Session Details</label>
                <input type="text" 
                class="form-control" 
                [(ngModel)]="addSessionForm.sessionDetails"
                id="inputEmail4" 
                placeholder="Enter Session Description" 
                name="sessionDetails" 
               >
              
              </div>
              <div class="mb-3 col-md-6">
                <label for="inputEmail4">Session Date</label>
                <input type="date" 
                variant="success" 
                class="form-control" 
                id="inputEmail4" 
                placeholder="Date" 
                name="sessionDate" 
                [(ngModel)]="addSessionForm.sessionDate"
              >
                
              </div>
            </div>
            <div class="row p-2">
                <div class="mb-3 col-md-6">
                  <label for="inputEmail4">From</label>
                  <input type="time" 
                  class="form-control" 
                  id="inputEmail4" 
                  placeholder="Time" 
                  name="sessionStartTime" 
                  [(ngModel)]="addSessionForm.sessionStartTime" >
                  
                  </div>
              <div class="mb-3 col-md-6">
                <label for="inputEmail4">To</label>
                <input type="time" 
                class="form-control" 
                id="inputEmail4" 
                placeholder="Time" 
                name="sessionEndTime"
                [(ngModel)]="addSessionForm.sessionEndTime"
                >
                
              </div>

            </div>
            <div class="row p-2">
              <div class=" mb-3 col-md-6 ">
                  <label class="form-group-text" for="clientType">Session Venue</label>
              <select class="form-select" 
                  id="inputGroupSelect01" 
                  name="sessionVenue" 
                  [(ngModel)]="addSessionForm.sessionVenue">
                  <option value="VIRTUAL">VIRTUAL</option>
                  <option value="PHYSICAL">PHYSICAL</option>
                </select>
                  </div>
                    <div class="modal-footer">
                      <button type="button"  class="btn btn-cancel" (click)="closeModal()"data-bs-dismiss="modal">Cancel</button>
                      <button type="button" class="btn btn-success"(click)="addSession()">Add Session</button>
                    </div>
                    


