<app-user></app-user>

<br>
<h5 class="section-title text-center ">Session Details</h5>
<div class="row">
  <div class="col-2">
  </div>
  <div class="col-8">
    <div class="container-fluid Client mb-5">
      <div class="container">
        <div class="card details-card">
          <div class="mt-5" class=""[@fadeIn]>
            <div class="d-flex justify-content-between flex-wrap">
            <button class="btn btn-success" *ngIf="this.userRole == 'CLIENT'" 
            data-bs-toggle="modal"
          data-bs-target="#addfeedbackModal"
            >Give Feedback</button>
            <button class="btn btn-success" *ngIf="this.userRole == 'COACH'" 
            data-bs-toggle="modal"
          data-bs-target="#attachmentModal"
            >Add Attachments</button>
            <div class="dropdown">
              <a class="btn btn-success dropdown-toggle"role="button" id="dropdownMenuLink"
                data-bs-toggle="dropdown" aria-expanded="false">
                Actions
              </a>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li>
                    <a
                      class="dropdown-item"
                      data-bs-toggle="modal"
                      data-bs-target="#confirmsessionModal"
                      >Confirm
                      </a
                    >
            
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      data-bs-toggle="modal"
                      data-bs-target="#deletesessionModal"
                      >conducted</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      data-bs-toggle="modal"
                      data-bs-target="#cancelsessionModal"
                      >Cancel</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      data-bs-toggle="modal"
                      data-bs-target="#conductedsessionModal"
                      >Reschedule</a
                    >
                  </li>
                  <li *ngIf="this.userRole != 'CLIENT'">
                    <a
                      class="dropdown-item"
                      data-bs-toggle="modal"
                      data-bs-target="#editsessionModal"
                      >Edit</a
                    >
                  </li>
                </ul>
            </div>
            </div>
        <div class="session-details" [@fadeIn] >
          <div class="d-flex justify-content-between main-detail">
            <span class="title">Session for:</span>
            <span class="value">{{ sessions.name }}</span>
          </div>
            <div class="d-flex justify-content-between">
              <span class="title">Session Date</span>
              <span class="value">{{ sessions.sessionDate }}</span>
            </div>
            <div class="d-flex justify-content-between">
              <span class="title">Client name</span>
              <span class="value">{{ sessions.client.fullName }}</span>
            </div>
            <div class="d-flex justify-content-between">
              <span class="title">Session type</span>
              <span class="value">{{ sessions.sessionType}}</span>
            </div>
            <div class="d-flex justify-content-between">
              <span class="title">Start Time</span>
              <span class="value">{{ sessions.sessionStartTime}}</span>
            </div>
            <div class="d-flex justify-content-between">
              <span class="title">End Time</span>
              <span class="value">{{ sessions.sessionEndTime }}</span>
            </div>
            
            <div class="d-flex justify-content-between">
              <span class="title">Status</span>
              
              <span
              class="badge"
              [ngClass]="getClass(sessions)"
              >{{ sessions.sessionStatus }}
              </span> 
              
            </div>
            <div class="d-flex justify-content-between">
              <span class="title">Session Venue</span>
              <span class="value">{{sessions.sessionVenue}}</span>
            </div>
          </div>
      </div>
      </div>
    </div>
    </div>
  </div>
  <div class="card details-card">
    <div class="card card-table">
      <div class="tabs-section">
      <button  *ngIf="this.userRole == 'COACH'" 

        class="btn btn-tabs"
        (click)="toggleTab('feedback')"
        [ngClass]="{ 'active-tab': currentTab === 'feedback' }"
      >
        Feedback
      </button>

      <button
          class="btn btn-tabs"
        (click)="toggleTab('notifications')"
        [ngClass]="{ 'active-tab': currentTab === 'notifications' }"
      >
        Notifications
      </button>
      <button
            class="btn btn-tabs"
          (click)="toggleTab('attachments')"
          [ngClass]="{ 'active-tab': currentTab === 'attachments' }"
        >
          Attachments
        </button>
    </div>
      <div *ngIf="currentTab === 'feedback'" [@fadeIn]>
        <div class="row list-container container ">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">Session Name</th>
                <th scope="col">Client Name</th>
                <th scope="col">Availability</th>
                <th scope="col">Clarification Score</th>
                <th scope="col">Emotional Intelligence</th>
                <th scope="col">Listening Skills</th>
                <th scope="col">Understanding</th>
                <th scope="col">Average</th>
                <th scope="col">Comments</th>
              </tr>
            </thead>
        
            <tbody>
              <tr *ngFor="let feedback of feedbacks">
            
               
                <td>{{ feedback.session.name }}</td>
                <td>{{ feedback.client.firstName }}</td>
                <td>{{ feedback.availabilityScore }}</td>
                <td>{{ feedback.clarificationScore }}</td>
                <td>{{ feedback.emotionalIntelligenceScore }}</td>
                <td>{{ feedback.listeningSkillsScore }}</td>
                <td>{{ feedback.understandingScore }}</td>
                <td>{{ feedback.overallScore }}</td>
                <td>     <button class="btn btn-success"
                  data-bs-toggle="modal"
                data-bs-target="#feedbackModal"
                (click)="viewComment(feedback)"
                >
                  <i   class="fa-solid fa-arrow-up-right-from-square"></i>
                  Comments
                </button></td>
                
              </tr>
            </tbody>
          </table>
          <div class="donut-wrapper" *ngIf="loading" [@fadeIn]>
            <div class="donut multi"></div>
          </div>
          <p class="text-muted mt-5" *ngIf="!loading && !feedbacks.length">
            No feedbacks Found.
          </p>
      </div>
      </div>
    <div
      class="d-none d-lg-block"
      *ngIf="currentTab === 'notifications'"
      [@fadeIn]
    >
    <div class="row list-container container ">
      <table class="table">
        <thead>
          <th coslpan="1">Notification Reason</th>
          <th coslpan="1">Notification Date</th>
          <th coslpan="1">Notification Mode</th>
        </thead>
        <tbody>
          <tr *ngFor="let notification of notifications">
            <td>{{ notification.id }}</td>
            <td>{{ notification.createdAt | date : "MMM d, y " }}</td>
            <td>{{ notification.notificationMode }}</td>
            <td>
              <button
                class="btn btn-success"
                data-bs-toggle="modal"
                data-bs-target="#notificationModal"
                (click)="viewNotification(notification)"
              >
                view
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    <div class="show-ms" *ngIf="currentTab === 'notifications'" [@fadeIn]>
      <p class="text-muted mt-5" *ngIf="!notifications?.length">
        No notifications found.
      </p>
    </div>
    </div>
    </div>
  <div
    class="d-none d-lg-block"
    *ngIf="currentTab === 'attachments'" [@fadeIn]
  >
  <div class="row list-container container ">
    <table class="table">
          <thead>
            <th coslpan="1">Attachment No</th>
            <th coslpan="1">Attachment date</th>
            <th coslpan="1">Details</th>
          </thead>
          <tbody>
            <tr *ngFor="let attachment of attachmentss">
              <td>{{ attachment.id }}</td>
              <td>{{ attachment.createdAt | date : "MMM d, y " }}</td>
              <td>{{ attachment.links }}</td>
              <td>
                <button
                class="btn btn-success"
                  data-bs-toggle="modal"
                  data-bs-target="#attachmentDetailModal"
                >
                  View
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="donut-wrapper" *ngIf="loading" [@fadeIn]>
          <div class="donut multi"></div>
        </div>
        <p class="text-muted mt-5" *ngIf="!loading && !attachmentss.length">
          No attachment Found.
        </p>
      </div>
  </div>
  </div>
</div>
<!-- Notification details modal -->
<div
  class="modal fade"
  id="notificationModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">
          Notification Details
        </h1>

        <button
          type="button"
          class="btn-close btn-close-white"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
        <div class="modal-body" *ngIf="notification">
        <div class="d-flex justify-content-between">
          <p>Destination</p>
          <span>{{ notification.destinationAddress }}</span>
        </div>

        <div class="d-flex justify-content-between">
          <p>Source Address</p>
          <span>{{ notification.sourceAddress}}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>Sent on:</p>
          <span>{{ notification.createdAt | date : "MMM d, y " }}</span>
        </div>
        <div class="d-flex-column">
          <p>Content:</p>
          <span>{{ notification.content }}</span>
        </div>  
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">
          Close
        </button>
      </div>
    </div>
  </div>
</div>

<!-- edit session modal -->
<div
  class="modal fade"
  id="editsessionModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Edit session</h1>

        <button
          type="button"
          class="btn-close btn-close-white"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="editedsessionForm" >
          <div class="row p-2">
            <div class=" mb-3 col-md-6 ">
              <label for="name">Session Name *</label>
              <input
              formControlName="name"
              value="{{currentSessionName?.name}}"
                name="name"
                type="text"
                class="form-control"
                id="name"
                required
              />
            </div>
          </div>
          <div class="row p-2">
            <div class=" mb-3 col-md-6 ">
              <label for="inputlastname">Session Details</label>
              <input 
              formControlName="details"
              value="{{currentdetails?.provider}}"
              type="text" 
              class="form-control" 
              id="inputEmail4" 
              placeholder="Enter Session Description" 
              name="details" 
              required >
            
            </div>
            <div class="mb-3 col-md-6">
              <label for="inputEmail4">Session Date</label>
              <input
              formControlName="sessionDate"
              value="{{currentSessionDate?.sessionDate}}" 
              type="date" 
              variant="success" 
              class="form-control" 
              id="inputEmail4" 
              placeholder="Date" 
              name="session_date" 
              >   
            </div>
          </div>
          <div class="row p-2">
              <div class="mb-3 col-md-6">
                <label for="inputEmail4">From</label>
                <input
                formControlName="sessionStartTime"
                value="{{currentsessionStartTime?.sessionStartTime}}" 
                type="time" 
                class="form-control" 
                id="inputEmail4" 
                placeholder="Time" 
                name="session_time_from" 
               >
              </div>
            <div class="mb-3 col-md-6">
              <label for="inputEmail4">To</label>
              <input 
              formControlName="sessionEndTime"
              value="{{currentsessionEndTime?.provider}}"
              type="time" 
              class="form-control" 
              id="inputEmail4" 
              placeholder="Time" 
              name="session_time_to" 
              >
            </div>
          </div>
          <div class="row p-2">
            <div class=" mb-3 col-md-6 ">
                <label class="form-group-text" for="clientType">Session Venue</label>
            <select 
            formControlName="sessionVenue"
            value="{{currentsessionVenue?.sessionVenue}}"
            class="form-select" 
                id="inputGroupSelect01" 
                name="session_venue" 
               >
                <option value="VIRTUAL">VIRTUAL</option>
                <option value="PHYSICAL">PHYSICAL</option>
            </select>
            </div>
                <div class="mb-3 col-md-6">
                  <label for="inputEmail4">Session Goals</label>
                  <input 
                  formControlName="goals"
                  value="{{currentgoals?.goals}}"
                  type="email" class="form-control" 
                  id="inputEmail4" placeholder="Goals" 
                  name="goals" >
                </div>
          
         
          </div> 
        <div class="col mb-3" *ngIf="showHideMessage" [@fadeIn]>
          <div class="">
            <label for="message">Message to be sent</label>
            <p class="lead">
              "Dear {{ client?.firstName | titlecase }}. Your
              {{ sessionType }} session of duration {{ sessionDuration }} has been
              set. It will be held on
              {{ sessionDate | date }}. Thank you. "
            </p>
          </div>
        </div> 
        </form>
      </div>
      <div class="modal-footer d-flex justify-content-between">
      <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">
          Cancel
        </button>
        <button
          type="button"
          class="btn btn-submit"
          data-bs-dismiss="modal"
          (click)="editedSession()"
        >
          Update session
        </button>
      </div>
   
  
</div>
</div>
</div>

<!-- Confirm session modal -->
<div
  class="modal fade bd-example-modal-lg"
  id="confirmsessionModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Confirm session</h1>

        <button
          type="button"
          class="btn-close btn-close-white"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body" *ngIf="session">
        <div class="d-flex justify-content-between">
          <p>Client Name</p>
          <span>{{
            sessions.client.fullName 
              | titlecase
          }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>Product</p>
          <span>{{ session.details }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>Session Type</p>
          <span>{{ session.sessionType }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>session Amount</p>
          <span>{{ session.sessionDuration }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>session Amount Paid</p>
          <span>{{ session.amountPaid }}</span>
        </div>

        <form [formGroup]="confirmSessionForm">
          <div class="mb-3">
            <label for="exampleInputEmail1">narration</label>
            <textarea
              formControlName="narration"
              name="narration"
              class="form-control"
              id="narration"
              aria-describedby="narration"
              placeholder="narration for confirming the session"
            >
            </textarea>
          </div>
          <div class="d-flex justify-content-between mb-3">
            <label for="exampleInputEmail1">notify the client</label>
            <div class="toggle">
              <label class="switch">
                <input type="checkbox" name="cancelsession" checked />
                <span class="slider round"></span>
              </label>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">
          Close
        </button>
        <button
          type="button"
          class="btn btn-submit"
          data-bs-dismiss="modal"
          (click)="confirmSession()"
        >
          Submit
        </button>
      </div>
    </div>
  </div>
</div>

<!-- conducted session modal -->
<div
  class="modal fade bd-example-modal-lg"
  id="conductedsessionModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" >
          Conducted session
        </h1>

        <button
          type="button"
          class="btn-close btn-close-white"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body" *ngIf="session">
        <div class="d-flex justify-content-between">
          <p>Client Name</p>
          <span>{{
            sessions.client.fullName 
              | titlecase
          }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>Product</p>
          <span>{{ session.details }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>Session Type</p>
          <span>{{ session.sessionType }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>session Amount</p>
          <span>{{ session.sessionDuration }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>session Amount Paid</p>
          <span>{{ session.amountPaid }}</span>
        </div>
        <form [formGroup]="conductedSessionForm">
          <div class="mb-3">
            <label for="exampleInputEmail1">Conducted  On</label>
            <input
              formControlName="sessionDate"
              [(ngModel)]="sessionDate"
              name="deliveredOn"
              type="date"
              class="form-control"
              id="deliveredOn"
              aria-describedby="emailHelp"
              placeholder="On Date"
            />
          </div>
          <div class="mb-3">
            <label for="exampleInputEmail1">Time</label>
            <input
              formControlName="sessionStartTime"
              [(ngModel)]="sessionStartTime"
              name="deliveredtime"
              type="time"
              class="form-control"
              id="deliveredtime"
              aria-describedby="emailHelp"
              placeholder="Delivery time"
            />
          </div>
          <div class="mb-3">
            <label for="exampleInputEmail1">goals</label>
            <textarea
              formControlName="goals"
              name="narration"
              class="form-control"
              id="narration"
              aria-describedby="narration"
              placeholder="narration for delivering the session"
            >
            </textarea>
          </div>
          <div class="d-flex justify-content-between mb-3">
            <label for="exampleInputEmail1">Notify the client</label>
            <div class="toggle">
              <label class="switch">
                <input type="checkbox" name="cancelsession" checked />
                <span class="slider round"></span>
              </label>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">
          Close
        </button>
        <button
          type="button"
          class="btn btn-submit"
          data-bs-dismiss="modal"
        >
          Submit
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Cancel session modal -->
<div
  class="modal fade bd-example-modal-lg"
  id="cancelsessionModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5">Cancel session</h1>

        <button
          type="button"
          class="btn-close btn-close-white"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body" *ngIf="session">
        <div class="d-flex justify-content-between">
          <p>Client Name</p>
          <span>{{
            sessions.client.fullName 
              | titlecase
          }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>Balance</p>
          <span>{{ session.sessionBalance }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>Session Type</p>
          <span>{{ session.sessionType }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>session Duration</p>
          <span>{{ session.sessionDuration }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>session Amount Paid</p>
          <span>{{ session.amountPaid }}</span>
        </div>
        <form [formGroup]="cancelSessionForm">
          <div class="mb-3">
            <label for="exampleInputEmail1">narration</label>
            <textarea
              formControlName="narration"
              name="narration"
              class="form-control"
              id="narration"
              aria-describedby="narration"
              placeholder="narration for cancelling the session"
            >
            </textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">
          Close
        </button>
        <button
          type="button"
          class="btn btn-submit"
          data-bs-dismiss="modal"
          (click)="cancelSession()"
        >
          Submit
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Delete session modal -->
<div
  class="modal fade bd-example-modal-lg"
  id="deletesessionModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5">Delete session</h1>

        <button
          type="button"
          class="btn-close btn-close-white"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body" *ngIf="session">
        <div class="d-flex justify-content-between">
          <p>Client Name</p>
          <span>{{
            sessions.client.fullName 
              | titlecase
          }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>Balance</p>
          <span>{{ session.sessionBalance }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>Session Type</p>
          <span>{{ session.sessionType }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>session Amount</p>
          <span>{{ session.sessionDuration }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <p>session Amount Paid</p>
          <span>{{ session.amountPaid }}</span>
        </div>
        <form [formGroup]="deleteSessionForm">
          <div class="mb-3">
            <label for="exampleInputEmail1">narration</label>
            <textarea
              formControlName="narration"
              name="narration"
              class="form-control"
              id="narration"
              aria-describedby="narration"
              placeholder="narration for deleting the session"
            >
            </textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">
          Close
        </button>
        <button
          type="button"
          class="btn btn-submit"
          data-bs-dismiss="modal"
        >
          Submit
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Add Feedback Modal -->
<div class="modal fade" id="addfeedbackModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-x1">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Give Session Feedback</h5>
        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h3>Session Feedback Form</h3>
        <p>Thank you for choosing to work with our professional coach. 
            We value your feedback and would appreciate if you could take a few minutes to complete this form.
            Your input will help us to continue to improve our coaching services and ensure that you have the best experience possible. 
            Please rate each statement on a scale of 1-5, with 1 being the least and 5 being the most.
            Your comments and suggestions are also welcome. Thank you for your time and support.</p>
        <form [formGroup]="feebackForm">
            <div class="form-group">
              <label for="goalSetting">1. My coach helped me to bring out my goals, values and beliefs as they affect me personally and professionally:</label>
              <div class="form-group__rating">
                <input type="radio" formControlName="understandingScore" value="1" id="goalSetting1">
                <label for="goalSetting1">1</label>
                <input type="radio" formControlName="understandingScore" value="2" id="goalSetting2">
                <label for="goalSetting2">2</label>
                <input type="radio" formControlName="understandingScore" value="3" id="goalSetting3">
                <label for="goalSetting3">3</label>
                <input type="radio" formControlName="understandingScore" value="4" id="goalSetting4">
                <label for="goalSetting4">4</label>
                <input type="radio" formControlName="understandingScore" value="5" id="goalSetting5">
                <label for="goalSetting5">5</label>
              </div>
            </div>
            <div class="form-group">
              <label for="emotionManagement">2. My coach demonstrated an ability to work with strong emotions and was not overpowered:</label>
              <div class="form-group__rating">
                <input type="radio" formControlName="emotionalIntelligenceScore" value="1" id="emotionManagement1">
                <label for="emotionManagement1">1</label>
                <input type="radio" formControlName="emotionalIntelligenceScore" value="2" id="emotionManagement2">
                <label for="emotionManagement2">2</label>
                <input type="radio" formControlName="emotionalIntelligenceScore" value="3" id="emotionManagement3">
                <label for="emotionManagement3">3</label>
                <input type="radio" formControlName="emotionalIntelligenceScore" value="4" id="emotionManagement4">
                <label for="emotionManagement4">4</label>
                <input type="radio" formControlName="emotionalIntelligenceScore" value="5" id="emotionManagement5">
                <label for="emotionManagement5">5</label>
              </div>
            </div>
            <div class="form-group">
              <label for="activeListening">3. My coach asked questions that demonstrated active listening and understanding of my perspective and encouraged clarity, learning and exploration:</label>
              <div class="form-group__rating">
                <input type="radio" formControlName="listeningSkillsScore" value="1" id="activeListening1">
                <label for="activeListening1">1</label>
                <input type="radio" formControlName="listeningSkillsScore" value="2" id="activeListening2">
                <label for="activeListening2">2</label>
                <input type="radio" formControlName="listeningSkillsScore" value="3" id="activeListening3">
                <label for="activeListening3">3</label>
                <input type="radio" formControlName="listeningSkillsScore" value="4" id="activeListening4">
                <label for="activeListening4">4</label>
        <input type="radio" formControlName="listeningSkillsScore" value="5" id="activeListening5">
        <label for="activeListening5">5</label>
        </div>
        
          </div>
          <div class="form-group">
            <label for="clarification">4. My coach was able to repeat what I said for clarification:</label>
            <div class="form-group__rating">
              <input type="radio" formControlName="clarificationScore" value="1" id="clarification1">
              <label for="clarification1">1</label>
              <input type="radio" formControlName="clarificationScore" value="2" id="clarification2">
              <label for="clarification2">2</label>
              <input type="radio" formControlName="clarificationScore" value="3" id="clarification3">
              <label for="clarification3">3</label>
              <input type="radio" formControlName="clarificationScore" value="4" id="clarification4">
              <label for="clarification4">4</label>
              <input type="radio" formControlName="clarificationScore" value="5" id="clarification5">
              <label for="clarification5">5</label>
            </div>
          </div>
          <div class="form-group">
            <label for="presence">5. I felt that the coach was fully present and flexible during the session:</label>
            <div class="form-group__rating">
              <input type="radio" formControlName="availabilityScore" value="1" id="presence1">
              <label for="presence1">1</label>
              <input type="radio" formControlName="availabilityScore" value="2" id="presence2">
              <label for="presence2">2</label>
              <input type="radio" formControlName="availabilityScore" value="3" id="presence3">
              <label for="presence3">3</label>
              <input type="radio" formControlName="availabilityScore" value="4" id="presence4">
        <label for="presence4">4</label>
        <input type="radio" formControlName="availabilityScore" value="5" id="presence5">
        <label for="presence5">5</label>
        </div>
        
          </div>
          <div class="form-group">
            <label for="additionalComments">Additional Comments:</label>
            <textarea formControlName="comments" id="additionalComments"></textarea>
          </div>
        
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-cancel" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success"  [disabled]="!feebackForm.valid"
        (click)="giveFeedback()"
        >Save changes</button>
      </div>
    </div>
  </div>
</div>
  <!-- feedback details modal -->
<div
class="modal fade"
id="feedbackModal"
tabindex="-1"
aria-labelledby="exampleModalLabel"
aria-hidden="true"
>
<div class="modal-dialog modal-lg">
<div class="modal-content">
  <div class="modal-header">
    <h1 class="modal-title fs-5" id="exampleModalLabel">
      feedback Comments
    </h1>

    <button
      type="button"
      class="btn-close btn-close-white"
      data-bs-dismiss="modal"
      aria-label="Close"
    ></button>
  </div>
  <div class="modal-body" *ngIf="feedback">
    <div class="d-flex-column">
      <span>{{ feedback.comments }}</span>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" 
    class="btn btn-secondary" 
    data-bs-dismiss="modal"
    >
      Close
    </button>
  </div>
</div>
</div>
</div> 
 <!-- add attachment modal -->
 <div
 class="modal fade"
 id="attachmentModal"
 tabindex="-1"
 aria-labelledby="exampleModalLabel"
 aria-hidden="true"
 >
 <div class="modal-dialog modal-lg">
  <div class="modal-content">
    <div class="modal-header">
      <h1 class="modal-title fs-5" id="exampleModalLabel">Add Attachments</h1>
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <form (submit)="addAttachment()">

    <section>
      <h3>Links</h3>
      <div class="row">
        <div class="col">
          <input [(ngModel)]="Objectives.objective"
          type="text"
          class="form-control"
          placeholder="Add link"
          formControlName="objectives"
        />
        </div>
              <div class="col">
                <button
                type="button"
                class="btn btn-success"
                (click)="addObjective()"
              >
             Add link
              </button>
              </div>      

      </div>

          <div class="mb-3">
          <ol>
            <li *ngFor="let obj of objectives; index as i">{{ obj }} 
              
              <button  (click)="removeObjective(i)"  type="button">
                <i 
             role="button"
              class="fa-solid fa-trash-can p-1">
             </i>Delete
            </button> 
            </li>
          </ol>
            </div>
    </section>
   <section>
    <h3>Files</h3>
    <div class="mb-3">
      <input 
      type="file" 
      id="fileInput" 
      multiple (change)="onFileSelected($event)"
      placeholder="Add file"
      >
      <button  class="btn btn-success" type="button" (click)="addFile()">Add file</button>
    </div>
    <div class="mb-3">
      <ol>
    <li *ngFor="let file of files; let i = index">
      <span>{{ file.name }}</span>
      <button type="button" (click)="removeFile(i)">Remove</button>
    </li>
      </ol>
    </div>
   </section>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-success" (click)="addAttachment()">add attachment</button>
        </div>
      </form>
      
  </div>
</div>
</div>

 <!-- attachment details modal -->
<div
class="modal fade"
id="attachmentDetailModal"
tabindex="-1"
aria-labelledby="exampleModalLabel"
aria-hidden="true"
>
<div class="modal-dialog modal-lg">
<div class="modal-content">
  <div class="modal-header">
    <h1 class="modal-title fs-5" id="exampleModalLabel">
      Attachments
    </h1>

    <button
      type="button"
      class="btn-close btn-close-white"
      data-bs-dismiss="modal"
      aria-label="Close"
    ></button>
  </div>
  <div class="modal-body" *ngIf="feedback">
    <div class="d-flex-column">
      <span>{{ feedback.comments }}</span>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" 
    class="btn btn-secondary" 
    data-bs-dismiss="modal"
    >
      Close
    </button>
  </div>
</div>
</div>
</div> 